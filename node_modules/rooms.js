exports.Room = function(roomSize) {
	this.playersList = [];
	this.colors = {};
	this.roomSize = roomSize;
	this.availableColors = ['#6BCBCA', '#FF6766'];

	this.addPlayer = function(player, infos) {
		player.setInfos(infos);
		var chosenColor = Math.floor(Math.random() * this.availableColors.length);
		player.setColor(this.availableColors[chosenColor]);
		delete this.availableColors[chosenColor];
		this.availableColors = this.availableColors.filter( function(val){return val !== undefined} );
		this.playersList.push(player);
	}

	this.getPlayersNumber = function() {
		return this.playersList.length;
	}

	this.getPlayer = function(socket) {
		for(player in this.playersList) {
			if(socket == this.playersList[player].socket) {
				return this.playersList[player];
			}
		}
	}

	this.isFull = function() {
		if(this.getPlayersNumber() == roomSize) return true;
		return false;
	}

	this.isReady = function () {
		var ready = true;
		for(player in this.playersList) {
			if(this.playersList[player].getReady() == false) ready = false;
		}
		return ready;
	}

	this.getSockets = function() {
		var sockets = [];
		for(player in this.playersList) {
			sockets.push(this.playersList[player].socket);
		}
		return sockets;
	}

	this.getPlayers = function() {
		return this.playersList;
	}
}